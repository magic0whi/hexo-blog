---
title: blender
toc: true
category: computer
lang: zh-cn
date: 2021-07-28 18:56:39
tags:
---

开始入门 Blender, 契机是我的米家随手吸尘器的配件-前置滤网的 ABS 框架被我烤变形了,
淘宝搜寻一番后发现卖 50+ 实在太贵, 遂自己建模打印一个.

<!-- more -->

## 常规软件设置

1. 在状态栏(右下角)显示内存、显存、点线面数量等信息: {% asset_img 1-1.png %}
2. 启用模拟三键鼠标(`Alt+鼠标左键` 旋转视角, 类似 MAYA 的操作): {% asset_img 1-2.png %}
   但是注意开启之后会导致选择循环边快捷键变成双击选择, 建议适应鼠标中键旋转视角(这样的优势在于一只手就能旋转视觉了)
3. 启用围绕选择物体旋转和自动深度(解决视角无法继续推近的问题) {% asset_img 1-3.png %}
4. 启用自动加载 Python 脚本(一些插件需要开启, 不然可能会报错)
   {% asset_img 1-4.png %}   
5. 启用插件:
   Node: Node Wrangler (强大的节点工具)
   Rigging: Rigify (自带的强大绑骨软件)
   Import-Export: Import Images as Planes (导入图像为平面)
   Import-Export: Export Autocad DXF Format (.dxf) (导出为 DXF 格式)
   Import-Export: Import AutoCAD DXF Format (.dxf) (导入为 DXF 格式)
   Add Curve: Extra Objects (添加额外的曲线物体)
   Add Mesh: BoltFactory (添加螺栓)
   Add Mesh: Extra Objects (添加额外的网格物体)
   Add Mesh: A.N.T.Landscape (简单地形制作)
   Interface: Modifier Tools (修改器工具)
   Interface: Copy Attributes Menu (复制属性菜单)
   Mesh: LoopTools (Loop 工具)
   Object: Bool Tool (布尔工具)
   Render: Auto Tile Size (自动 Tile 大小, 能自动帮你设置渲染块数量, 提供硬件利用率)
   UV: Magic UV (魔法 UV)
   {% asset_img 1-6.png %}
6. 最后别忘了保存设置 {% asset_img 1-5.png %}

## 基础操作

1. 观察物体:
   
   {% asset_img 2-1.png %}
   &#10112; 视角旋转: `鼠标中键` 或 `Alt+左键` (模拟三键鼠标)
   &#10113; 视角平移: `Shift+鼠标中键` 或 `Shift+Alt+鼠标左键` (模拟三键鼠标)
   &#10114; 摄像机视图切换: `小键盘0`
   &#10115; 透视/正交切换: `小键盘5`
   提示: 若是87键键盘没有小键盘, 可通过在首选项开启模拟数字键盘, 使普通数字键作为快捷键使用
   {% asset_img 2-2.png %}
   1. 摄像机相关:
      * 如何让摄像机跟随视角同步?
        按 `N` 键开启 N 面板, 然后点击视图选项卡, 勾选锁定相机到视图
        {% asset_img 2-3.png %}
      * 如何更改摄像机取景框的比例和大小?
        &#10112; 见图:
        
        {% asset_img 2-4.png %}
        &#10113; 在关闭锁定相机到视图的情况下, 在相机视图下直接使用鼠标滚轮和视角平移操作就可以改变相机取景框在屏幕上的大小和位置
      * 我找到了一个不错的角度, 如何将当前的视角快速变为摄像机视图?
        场景集合列表(Scene Collection)中选中相机物体, 然后 `Ctrl+Alt+小键盘0`
   2. 四视图视角: `Ctrl+Alt+Q`
      顶视图: `小键盘7`; 底视图: `Ctrl+小键盘7`
      前视图: `小键盘1`; 后视图: `Ctrl+小键盘1`
      右视图: `小键盘3`; 左视图: `Ctrl+小键盘3`
      翻转当前视角: `小键盘9` (如当前是顶视图, 翻转变成底视图; 正交视图之外的情况是绕Z轴翻转)
   3. 聚焦当前物体: 选中目标物体, 然后在视图中按`小键盘的'.'键`
      聚焦并屏蔽其他物体的显示: 选中目标物体, 然后在视图中按`小键盘的'/'键`
      在四视图界面, 要想同步聚焦, 按 `Ctrl+小键盘'.'键`
      显示整个场景: `Home` 键
2. 调整物体
   * 开启移动, 旋转, 调整工具的实时显示:
     {% asset_img 2-5.png %}
     > Gizmo 可通过 ``Ctrl+` `` 来快速开关
   * 移动物体: 快捷键 `G`, 此时按 `X`、`Y`、`Z` 可使其在对应的轴上移动, 输入数字可以进行精确移动.
     若要在对应的平面上移动, 可按 `Shift+垂直轴的字母`, 如 `Shift+Z` 为在 `X-Y` 平面内移动
     位置归零: `Alt+G`
   * 旋转物体: 快捷键 `R`, 默认是基于当前视角旋转, 此时再按 `R` 可进入视角深度旋转, 按 `X`、`Y`、`Z` 可使其在对应的轴上旋转, 输入数字可以进行精确旋转(角度制).
     旋转归零: `Alt+R`
   * 缩放物体: 快捷键 `S`, 按 `X`、`Y`、`Z` 可使其在对应的轴上缩放, 输入数字可以进行精确缩放.
     若要在对应的平面上缩放, 可按 `Shift+垂直轴的字母`
     缩放归零: `Alt+S`
   * 也可利用N面板调整物体:
     
     {% asset_img 2-6.png %}
3. 选择物体
   按 `W` 切换选择工具, 共有四种, 分别为选择移动工具、框选工具、刷选工具、套索选择工具
   还可以设置对应工具的属性(如交集选择)
   {% asset_img 2-7.png %}

   按 `A` 键全选, 再次按 `A` 或 `Alt+A` 取消全选
4. 新建物体
   物体添加: `Shift+A`, 注意物品添加时部分支持使用新建参数, 但这个参数仅在新建时才有效
5. 删除物体
   两种方法: `Delete` 键删除或按 `X` 删除

## 坐标系与轴心点

1. 物体变换坐标系: 快捷键 `,`
   * 局部(Local)坐标系: 基于物体本身方向的坐标系
     可在对象属性下的视图显示里开启局部坐标轴显示:
     {% asset_img 3-1.png %}

     > * 进入变换模式, 二次点击轴字母即可快速切换全局/局部坐标系.
     > * 可以在编辑器的顶栏设置默认使用的坐标系:
     >   
     >   {% asset_img 3-2.png %}
   * 法向(Normal)坐标系
     切换到法向模式, 进入编辑模式中的面选择模式, 点击一个平面, 可以看到Z轴和这个平面平行
     (按 `Tab` 进入编辑模式, 此时按 `1`、`2`、`3` 进入点、线、面选择模式, 注意要使用这个快捷键需关闭**模拟数字键盘**)
     {% asset_img 3-3.png %}
     > 同样的, 进入变换模式后, 二次点击轴字母即可快速切换到全局坐标系
   * 万向(Gimbal)坐标系
     对于万向轴来说, 它可通过固定两个轴(旋转轴和转向轴)的方式让第三个绕旋转轴旋转,
     如让某个圆球的万向轴设置为旋转轴是它的的局部X轴, 转向轴为它的局部Z轴,
     可在 Object Properties->Transform 选择 Mode 为 "YXZ Eular" (第二个字母为旋转轴, 第三个字母为转向轴):
     此时当我们尝试将物体绕着X轴旋转, Y轴会发生变化, 但无论如何旋转, 万向坐标系的Z轴永远保持和全局坐标Z轴一个方向, 且万向Z轴与X轴始终保持正交
     {% asset_img 3-4.png %}
   * 视图(View)坐标系
     坐标轴XY与视窗锁定, 上下为Y, 左右为X, 垂直平面为Z
   * 创建坐标系功能
     使场景中所有的物体的坐标系为某个物体的局部坐标系
     (复制物体の两种方法: 选中物体, `Ctrl+C` + `Ctrl+V` 或 `Shift+D`)
     选中某个物体, 点击变换坐标系菜单的"+"号:
     {% asset_img 3-5-1.png %}
     
     此时会生成一个与该物体名称相同的坐标系, 其他物体的坐标系变为此物体的局部坐标系:
     {% asset_img 3-5-2.png %}
   * 游标坐标系
     和创建坐标系功能相似, 可以选择游标工具或在选择工具下按住 `Shift+鼠标右键` 拖动, 移动后游标会朝向移动时的视角
     {% asset_img 3-6.png %}
2. 物体变换轴心点
   * 原点: 物体中心的橘黄色的小点称为原点, 可在编辑器右上角的选项中启用仅影响原点来对原点进行变换操作:
     
     {% asset_img 3-7.jpg %}
     移动了原点后, 可通过右键菜单中的设置原点子菜单恢复原点位置:
     (分别是几何中心到原点, 原点到几何中心, 原点到3D游标, 原点到重心(表面), 原点到重心(体积))
     
     {% asset_img 3-8.png %}
   * 变换轴心点: 选择多个物体后出现的一个变换位置用的轴心点, 可使用句号键 "`.`" 或在编辑器的顶部选择变换轴心点位置的计算方式(边界框中心、3D游标、各自的原点、质心点、活动元素):
     
     {% asset_img 3-9.png %}
     * 质心点(Median Point): 为变换轴心点计算的默认方式, 是基于原点计算产生的均值, 在只有一个物体选择的情况下, **质心等于原点**.
     * 边界框中心(Bounding Box Center)
       > 边界框可在 Object Properties-> Viewport Display 这里勾选 Bounds 来开启显示
         {% asset_img 3-10.png %}
       
       如图, 在边界框中心模式下, 两物体的变换轴心点是根据两个边界框来计算的

       {% asset_img 3-11.png %}
     * 3D游标(3D Cursor): 顾名思义, 就是变换轴心点的位置是游标的位置. 配合下一章的吸附.
     * 各自的原点(Individual Origins): 比较特别, 此模式下对选中的多个物体进行缩放和旋转都会对以各自的原点进行变换, 而不是一个统一的变换轴心点. 如下图中的旋转操作:
        {% asset_img 3-12.png %}
     * 活动元素(Active Element): 变换轴心点的位置是活动元素(最后选择的对象, Scene Collection 中高亮的那个)的原点
       {% asset_img 3-13.png %}
     
     > 当使用句号键 "`.`" 在弹出的浮动菜单勾选仅位置后, 选择的多个物体的缩放和旋转只会相对于变换轴心点进行相对的距离和角度的变换而不会改变物体本身的缩放和旋转.
     > {% asset_img 3-14.png %}
     > 如图, 旋转操作不旋转物体本身, 只是相对于变换轴心点的角度进行位置上的"旋转"
     > {% asset_img 3-15.png %}

## 吸附与衰减编辑工具

1. 吸附功能全解:
   可通过 `Shift+Tab` 或点击编辑器顶部的磁铁图标来开启或关闭吸附功能, 也可在变换的时候按住 `Ctrl` 来临时开启或(在吸附模式开启状态下)关闭
   旁边的下拉菜单可以调整吸附对象的吸附内容(Snap To)和被吸附对象的吸附基准点(Snap With)和影响的变换(移动 Move、选择 Rotate、缩放 Scale):
   
   {% asset_img 4-1.png %}
   > * 为了更好地展示吸附效果, 开启线框模式:
   >   {% asset_img 4-2.png %}
   > * 对于吸附基准点, **最近=被吸附对象离吸附目标最近距离的顶点, 中心=变换轴心点约等于质心, 但由变换轴心点的设置决定(参见上章)**.
   > * 可通过 `Shift+S` 呼出游标吸附相关的浮动菜单, 从而让游标吸附到各种位置上.
   >   如将游标吸附到某个选择的面上: `Tab` 进入编辑模式, `3` 进入点线面的面模式, 然后选中物体的某个平面, `Shift+S` 呼出游标吸附菜单, 选择 Cursor to Selected, 如图所示.
   >   {% asset_img 4-5.png %}
   * 增量模式(Increment): 物体的变换会吸附到背景网格上, 可利用不同缩放下网络间距不同来达到选择移动 0.1M 或 1.0M 的效果.
     默认是相对于网格的移动, 若选中绝对栅格对齐(Absolute Grid Snap), 则物体/多个物体的质心会被严格吸附到网格点上.
     
     {% asset_img 4-3.png %}
     如图所示(俯视图), 移动后, 两个方块的质心点被吸附到网格上:
     
     {% asset_img 4-4.png %}
   * 顶点模式(Vertex): 物体的变换会吸附到其他物体的顶点上.
     * 勾选背面剔除(Backface Culling)后, 将不会吸附当前视角下处在物体背面的顶点.

       {% asset_img 4-6.png %}
     * 勾选旋转对齐目标(Align Rotation to Target)后, 被吸附物体的局部坐标轴的Z轴会与顶点的法向对齐, 如图:
       
       {% asset_img 4-7.png %}
       {% asset_img 4-8.png %}
   * 其他的功能, 自己尝试吧~
     * 这里说一下面模式的妙用, 可以很方便地实现让一个物体摆放在另一个物体之上:
       我们将这个要放置物体的原点置于底面的中心(配合四视图比如正视图+吸附功能)
       
       {% asset_img 4-9.png %})
       然后选择面吸附模式下并设置吸附基准点为质心(Median), 就可以将这个物体完美地放在另一个物体的平面上啦~
     
       {% asset_img 4-10.png %}
     * 面模式下, 勾选项目的独立元素(Project Individual Elements)后, 将会使选择多个物体使用各自的原点进行吸附.
       
       {% asset_img 4-11.png %}
       {% asset_img 4-12.png %}

       * 此外, 若在编辑模式下进行面吸附, 可以将网格物体贴合到另一个物体的面上, 目前版本贴合似乎有bug, 建议多开一个窗口用正交视图下(四视图)进行贴合.
         
         {% asset_img 4-13.png %}
     * 垂直交线(Edge Perpendicular)模式: 物体会被吸附到吸附基准点与目标吸附物体的边的垂直交线的交点上, 也适用于编辑模式下的顶点模式.
       {% asset_img 4-14.png %}
2. 衰减编辑: 快捷键 `O`. 启用衰减编辑后, 对其中一个物体进行变换会带动周围的物体一起进行变换.
   如图, 启用衰减编辑后, 变换物体时会出现一个灰色的圈, 圈内的物体会被带动, **使用鼠标可以改变圈的大小**
   {% asset_img 4-15.png %}

   衰减的模式有许多种, 具体可以自己逐一尝试, 这里略过不讲.
   {% asset_img 4-16.png %}
   
   提一下衰减编辑配合网格(Grid)对象在编辑模式下的运用:
   
   {% asset_img 4-17.png %}
   {% asset_img 4-18.png %}

   配合从视角投影(Projected from View)可以做到根据视角的投影方向进行统一的操作:
   {% asset_img 4-19.png %}

## 常用基础操作集中处理(游标、物体合并分立、操作重复执行、第一人称观察、物体隐藏、物体父子级、物体镜像变换)

1. 游标操作:
   游标移动相关浮动菜单 `Shift+S`
   游标快速移动 `Shift+右键拖动`
   游标回到世界坐标 `Shift+C`
2. 物体合并分离:
   合并: 选择物体然后 `Ctrl+J`
   分离: 进入编辑模式选择分离部分(可使用快捷键 `L` 选择相邻元素)然后 `P` 或 `Alt+M`
   > 提示: 合并后原点为活动项原点, 分离后原点位置在分离物体原点上
3. 操作重复执行: 复制/变换等常规操作完成后按 `Shift+R`
4. 第一人称观察和拍摄: `Shift+~`
   进入后, `WASDEQ` 前后左右上下, `+Shift` 加速, `+Alt` 减速, `空格` 可快速前进到准星对准的物体处
   > 可配合相机的锁定到视图实现相机的自由移动
   > 记录K帧: 在相机的 Object Properties->Transform 下, 将鼠标指针停留在各项参数上然后按 `I` 键来启动记录(这里我们记录位置旋转缩放的信息), 最后开启自动记录关键帧.
   > 此时按 `空格` 启动播放, 然后进入第一人称模式自由进行摄像机的一些移动:
   > {% asset_img 5-1.png %}
   > 可以选择然后按 `X` 或 `Delete` 来删除一些不想要的关键帧
   > {% asset_img 5-2.png %}
   > 进入到关键帧曲线编辑器(Graph Editor), 可以对关键帧进行一些平滑处理:
   > {% asset_img 5-3.png %}
   > 在编辑器中按 `A` 键选择所有曲线, 然后找到 Key->Smooth Keys (快捷键 `Alt+O`) 来平滑关键帧. 平衡一次的效果可能不够明显, 可以通过连续按住 `Alt+O` 来较为彻底地平滑曲线:
   > {% asset_img 5-4.png %}
5. 物体隐藏、显示、禁用
   * 隐藏: 可通过点击物体然后按 `H` 或点击场景集合(Scene Collation)中物体旁边的"小眼睛"来实现.
     {% asset_img 5-5.png %}
   * 显示: 重新显示所有隐藏对象 `Alt+H`
   * 禁用:
     首先确保在导航面板(Outliner)中, Restriction Toggles 的 Disable in Viewports (显示器图标)和 Disable in Renders (相机图标)为开启状态:
     
     {% asset_img 5-6.png %}
     然后就可以对物体设置视图中禁用和渲染中禁用了:
     {% asset_img 5-7.png %}
6. 物体父子级: 子物体可以实现与父物体变换操作的同步
   * 建立父子级: 选择多个物体后, 按 `Ctrl+P`, 活动项会成为父级
   * 清空父级: `Alt+P`
  
   > 也可在导航面板(Outliner)按住 `Shift` 拖动物体来建立或取消父子级关系:
   > {% asset_img 5-8.png %}
7. 物体镜像变换
   如图, 在同一位置通过 `Shift+D` 然后右键取消位移的方式原位复制一个猴子(这样在镜像后原来的猴子就不会消失)

   {% asset_img 5-9.png %}
   选中要镜像变换的物体(上图中的 Suzanne.001), 按 `Ctrl+M` 进入交互式镜像变换模式,
   此模式下, 按 `XYZ` 或者 `鼠标中键拖拽` 可以选择镜像轴:
   {% asset_img 5-10.png %}

## 建模功能篇

### 初识编辑模式点线面与统计信息拓展

1. 点线面切换: `主键盘1/2/3`
   模式加减选: `Shift+1/2/3`
2. 统计信息除了在首选项里进行信息栏的开启外,
   也可在视图编辑器的视图叠加层设置中进行开启:

   {% asset_img 6-1.png %}
   物体模式(Object Mode)统计数据计算的所有物体数据总和
   编辑模式(Edit Mode)统计数据计算当前进入编辑物体数据总和
   三角形(Triangles)为网格等效为三角面之后的预估数量, 面是可以三角化的:
   {% asset_img 6-2.png %}

### 挤出类工具全解(挤出、沿法向挤出、挤出各个面、挤出至游标)